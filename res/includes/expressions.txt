operator DOT 19 left
operator INCREMENT 17 nonassoc
operator DECREMENT 17 nonassoc

Expression -> PathExpression

;
; Expressions.
;
PathExpression -> ParenExpression
PathExpression -> LValue

ParenExpression -> PAREN_OPEN Expression PAREN_CLOSE { $1 }

;
; Member access expressions.
;
LValue -> MemberAccessExpression
MemberAccessExpression -> PathExpression DOT IDENTIFIER { reduceMemberAccessExpression($0, $2) }

;
; Computed member access expressions.
;
LValue -> ComputedMemberAccessExpression
ComputedMemberAccessExpression -> PathExpression BLOCK_OPEN Expression BLOCK_CLOSE { reduceComputedMemberAccessExpression($0, $2) }

;
; Variable access expressions.
;
LValue -> VariableAccessExpression
VariableAccessExpression -> IDENTIFIER { reduceVariableAccessExpression($0) }

;
; New expression.
;
Expression -> NewExpression
NewExpression -> NEW WHITESPACE PathExpression PAREN_OPEN ArgumentList PAREN_CLOSE { reduceNewExpression($2, $4) }
    | NEW WHITESPACE PathExpression PAREN_OPEN PAREN_CLOSE { reduceNewExpression($2) }
    | NEW WHITESPACE PathExpression { reduceNewExpression($2) }
    | NEW WHITESPACE NewExpression { reduceNewExpression($2) }

;
; Function call expression.
;
Expression -> FunctionCallExpression
FunctionCallExpression -> PathExpression PAREN_OPEN ArgumentList PAREN_CLOSE { reduceFunctionCallExpression($0, $2) }
FunctionCallExpression -> PathExpression PAREN_OPEN PAREN_CLOSE { reduceFunctionCallExpression($0) }

;
; Postfix increment/decrement expression.
;
Expression -> LValue INCREMENT { reducePostfixIncrementExpression($0) }
Expression -> LValue DECREMENT { reducePostfixDecrementExpression($0) }

;
; Number expressions.
;
Expression -> NUMBER_INTEGER { reduceIntegerNumberExpression }
    | NUMBER_FLOAT { reduceFloatNumberExpression }
    | NUMBER_OCTAL { reduceOctalNumberExpression }

